{
  "test_date": "2025-06-30T15:28:32.256924",
  "pdf_file": "tests/fixtures/test_invoice.pdf",
  "models": {
    "deepseek-llm": {
      "model": "deepseek-llm",
      "document_id": "5150e9280fb3c35f",
      "questions": [
        {
          "question": "What is the invoice number?",
          "answer": "The invoice number is INV-2025-001.",
          "success": true,
          "accurate": true,
          "response_time": 19.554391622543335,
          "expected_keywords": [
            "INV-2025-001"
          ]
        },
        {
          "question": "What is the total amount due?",
          "answer": "The total amount due is $32,550.00.",
          "success": true,
          "accurate": true,
          "response_time": 16.529601097106934,
          "expected_keywords": [
            "32,550",
            "32550"
          ]
        },
        {
          "question": "Who is being billed?",
          "answer": "Tech Startup Inc. is being billed for the services and products included on this invoice.",
          "success": true,
          "accurate": true,
          "response_time": 19.349018096923828,
          "expected_keywords": [
            "Tech Startup Inc"
          ]
        },
        {
          "question": "What is the tax rate?",
          "answer": "The tax rate is 8.5%.",
          "success": true,
          "accurate": true,
          "response_time": 17.593826055526733,
          "expected_keywords": [
            "8.5%",
            "8.5"
          ]
        },
        {
          "question": "What services were provided in this invoice?",
          "answer": "This invoice covers the development of a custom AI solution which includes the following services:\n\n* Development of an AI model for customer service automation using natural language processing\n* Real-time data processing pipeline capable of handling one million requests per day\n* RESTful API with a 99.9% uptime Service Level Agreement (SLA)\n* Comprehensive documentation and training materials provided\n* A 90-day warranty and support period for the solution",
          "success": true,
          "accurate": true,
          "response_time": 36.67636704444885,
          "expected_keywords": [
            "AI Model",
            "Data Processing",
            "API"
          ]
        },
        {
          "question": "When is the payment due?",
          "answer": "The payment is due within 30 days.",
          "success": true,
          "accurate": true,
          "response_time": 14.49768877029419,
          "expected_keywords": [
            "30 days",
            "thirty days"
          ]
        },
        {
          "question": "What discount is offered for early payment?",
          "answer": "The discount offered for early payment is 2% if paid within 10 days.",
          "success": true,
          "accurate": true,
          "response_time": 14.408531904220581,
          "expected_keywords": [
            "2%",
            "2 percent",
            "10 days"
          ]
        },
        {
          "question": "When is the training session scheduled?",
          "answer": "The training session for this project is scheduled for July 15, 2025.",
          "success": true,
          "accurate": true,
          "response_time": 17.766310214996338,
          "expected_keywords": [
            "July 15",
            "July"
          ]
        },
        {
          "question": "What is the hourly rate for data processing?",
          "answer": "The hourly rate for Data Processing is $150.",
          "success": true,
          "accurate": true,
          "response_time": 59.9643759727478,
          "expected_keywords": [
            "150",
            "per hour",
            "hourly"
          ]
        }
      ],
      "errors": [
        {
          "question": "How much would I save with the early payment discount?",
          "error": "Request timeout (60s)",
          "response_time": 60
        }
      ],
      "metrics": {
        "total_questions": 10,
        "successful_answers": 9,
        "accurate_answers": 9,
        "total_time": 216.3401107788086,
        "average_time": 24.037790086534287,
        "success_rate": 90.0,
        "accuracy_rate": 90.0
      }
    },
    "deepseek-coder": {
      "model": "deepseek-coder",
      "document_id": "5150e9280fb3c35f",
      "questions": [
        {
          "question": "What is the invoice number?",
          "answer": "The invoice number is \"INV-2025-001\".",
          "success": true,
          "accurate": true,
          "response_time": 20.49465799331665,
          "expected_keywords": [
            "INV-2025-001"
          ]
        },
        {
          "question": "What is the total amount due?",
          "answer": "The total amount due is $32,550.00.",
          "success": true,
          "accurate": true,
          "response_time": 13.98589825630188,
          "expected_keywords": [
            "32,550",
            "32550"
          ]
        },
        {
          "question": "Who is being billed?",
          "answer": "The customer being billed is Tech Startup Inc. located at 456 Innovation Drive, San Francisco, CA 94105. The bill can be sent to John Doe via email john@techstartup.com or by mail to the above address.",
          "success": true,
          "accurate": true,
          "response_time": 19.722610235214233,
          "expected_keywords": [
            "Tech Startup Inc"
          ]
        },
        {
          "question": "What is the tax rate?",
          "answer": "The tax rate is 8.5%.",
          "success": true,
          "accurate": true,
          "response_time": 13.486541032791138,
          "expected_keywords": [
            "8.5%",
            "8.5"
          ]
        },
        {
          "question": "What services were provided in this invoice?",
          "answer": "The services provided in this invoice include:\n\n- AI Model Development for a project valued at $15,000.00\n- Data Processing Pipeline with a duration of 40 hours and unit price of $150.00\n- Machine Learning Consultation with a duration of 20 hours and unit price of $200.00\n- Custom API Integration for a system valued at $3,500.00.",
          "success": true,
          "accurate": true,
          "response_time": 35.74191498756409,
          "expected_keywords": [
            "AI Model",
            "Data Processing",
            "API"
          ]
        },
        {
          "question": "When is the payment due?",
          "answer": "The payment is due within 30 days.",
          "success": true,
          "accurate": true,
          "response_time": 16.42010235786438,
          "expected_keywords": [
            "30 days",
            "thirty days"
          ]
        },
        {
          "question": "What discount is offered for early payment?",
          "answer": "2% discount if paid within 10 days.",
          "success": true,
          "accurate": true,
          "response_time": 9.953178882598877,
          "expected_keywords": [
            "2%",
            "2 percent",
            "10 days"
          ]
        },
        {
          "question": "When is the training session scheduled?",
          "answer": "The training session is scheduled for July 15, 2025.",
          "success": true,
          "accurate": true,
          "response_time": 10.665197134017944,
          "expected_keywords": [
            "July 15",
            "July"
          ]
        },
        {
          "question": "How much would I save with the early payment discount?",
          "answer": "The total due for this invoice is $32,550.00. The tax amount (8.5% of subtotal) is $2,550.00. \n\nIf a 2% discount was applied if paid within 10 days, we would need to subtract the total due by that percentage: $32,550.00 - 2% = $31,694.80. \n\nSo, you would save approximately $855.20 with an early payment discount on this invoice.",
          "success": true,
          "accurate": true,
          "response_time": 28.11966586112976,
          "expected_keywords": [
            "651",
            "discount"
          ]
        },
        {
          "question": "What is the hourly rate for data processing?",
          "answer": "The hourly rate for data processing is $150.00 per hour.",
          "success": true,
          "accurate": true,
          "response_time": 12.343129873275757,
          "expected_keywords": [
            "150",
            "per hour",
            "hourly"
          ]
        }
      ],
      "errors": [],
      "metrics": {
        "total_questions": 10,
        "successful_answers": 10,
        "accurate_answers": 10,
        "total_time": 180.9328966140747,
        "average_time": 18.09328966140747,
        "success_rate": 100.0,
        "accuracy_rate": 100.0
      }
    },
    "llama3": {
      "model": "llama3",
      "document_id": "5150e9280fb3c35f",
      "questions": [
        {
          "question": "What is the invoice number?",
          "answer": "The invoice number is: INV-2025-001.",
          "success": true,
          "accurate": true,
          "response_time": 16.02558732032776,
          "expected_keywords": [
            "INV-2025-001"
          ]
        },
        {
          "question": "What is the total amount due?",
          "answer": "The total amount due is $32,550.00, as explicitly stated in the document.",
          "success": true,
          "accurate": true,
          "response_time": 9.453134059906006,
          "expected_keywords": [
            "32,550",
            "32550"
          ]
        },
        {
          "question": "Who is being billed?",
          "answer": "Tech Startup Inc.",
          "success": true,
          "accurate": true,
          "response_time": 7.586525201797485,
          "expected_keywords": [
            "Tech Startup Inc"
          ]
        },
        {
          "question": "What is the tax rate?",
          "answer": "The tax rate is 8.5%.",
          "success": true,
          "accurate": true,
          "response_time": 8.02225375175476,
          "expected_keywords": [
            "8.5%",
            "8.5"
          ]
        },
        {
          "question": "What services were provided in this invoice?",
          "answer": "According to the document, the following services were provided:\n\n1. AI Model Development\n2. Data Processing Pipeline (40 hours)\n3. Machine Learning Consultation (20 hours)\n4. Custom API Integration (1 system)\n\nThese services are listed under \"INVOICE DETAILS\" in the document.",
          "success": true,
          "accurate": true,
          "response_time": 15.121222019195557,
          "expected_keywords": [
            "AI Model",
            "Data Processing",
            "API"
          ]
        },
        {
          "question": "When is the payment due?",
          "answer": "Payment due within 30 days.",
          "success": true,
          "accurate": true,
          "response_time": 7.257081031799316,
          "expected_keywords": [
            "30 days",
            "thirty days"
          ]
        },
        {
          "question": "What discount is offered for early payment?",
          "answer": "According to the document, a 2% discount is offered if paid within 10 days.",
          "success": true,
          "accurate": true,
          "response_time": 8.917934894561768,
          "expected_keywords": [
            "2%",
            "2 percent",
            "10 days"
          ]
        },
        {
          "question": "When is the training session scheduled?",
          "answer": "The training session is scheduled for July 15, 2025.",
          "success": true,
          "accurate": true,
          "response_time": 8.392430067062378,
          "expected_keywords": [
            "July 15",
            "July"
          ]
        },
        {
          "question": "How much would I save with the early payment discount?",
          "answer": "According to the document, if paid within 10 days, there is a 2% discount. To calculate the amount saved, we would need to know the total due, which is $32,550.00. Therefore, the amount saved with the early payment discount would be:\n\n$32,550.00 x 0.02 = $651.00",
          "success": true,
          "accurate": true,
          "response_time": 17.64177107810974,
          "expected_keywords": [
            "651",
            "discount"
          ]
        },
        {
          "question": "What is the hourly rate for data processing?",
          "answer": "I cannot find that specific information in the provided context.",
          "success": true,
          "accurate": false,
          "response_time": 12.050289154052734,
          "expected_keywords": [
            "150",
            "per hour",
            "hourly"
          ]
        }
      ],
      "errors": [],
      "metrics": {
        "total_questions": 10,
        "successful_answers": 10,
        "accurate_answers": 9,
        "total_time": 110.4682285785675,
        "average_time": 11.04682285785675,
        "success_rate": 100.0,
        "accuracy_rate": 90.0
      }
    },
    "mistral": {
      "model": "mistral",
      "document_id": "5150e9280fb3c35f",
      "questions": [
        {
          "question": "What is the invoice number?",
          "answer": "The invoice number is INV-2025-001.",
          "success": true,
          "accurate": true,
          "response_time": 26.163307189941406,
          "expected_keywords": [
            "INV-2025-001"
          ]
        },
        {
          "question": "What is the total amount due?",
          "answer": "The total amount due is $32,550.00 according to the provided context.",
          "success": true,
          "accurate": true,
          "response_time": 26.10839581489563,
          "expected_keywords": [
            "32,550",
            "32550"
          ]
        },
        {
          "question": "Who is being billed?",
          "answer": "Tech Startup Inc. is being billed as per the invoice details. The bill to address is 456 Innovation Drive, San Francisco, CA 94105. The contact person is John Doe and his email is john@techstartup.com.",
          "success": true,
          "accurate": true,
          "response_time": 29.32229971885681,
          "expected_keywords": [
            "Tech Startup Inc"
          ]
        },
        {
          "question": "What is the tax rate?",
          "answer": "The tax rate is 8.5%.",
          "success": true,
          "accurate": true,
          "response_time": 14.422663927078247,
          "expected_keywords": [
            "8.5%",
            "8.5"
          ]
        },
        {
          "question": "What services were provided in this invoice?",
          "answer": "The services provided in this invoice are as follows:\n1. AI Model Development (1 project)\n2. Data Processing Pipeline (40 hours)\n3. Machine Learning Consultation (20 hours)\n4. Custom API Integration (1 system)",
          "success": true,
          "accurate": true,
          "response_time": 23.057507038116455,
          "expected_keywords": [
            "AI Model",
            "Data Processing",
            "API"
          ]
        },
        {
          "question": "When is the payment due?",
          "answer": "The payment is due within 30 days.",
          "success": true,
          "accurate": true,
          "response_time": 16.997269868850708,
          "expected_keywords": [
            "30 days",
            "thirty days"
          ]
        },
        {
          "question": "What discount is offered for early payment?",
          "answer": "2% discount if paid within 10 days.",
          "success": true,
          "accurate": true,
          "response_time": 13.847877025604248,
          "expected_keywords": [
            "2%",
            "2 percent",
            "10 days"
          ]
        },
        {
          "question": "When is the training session scheduled?",
          "answer": "The training session is scheduled for July 15, 2025.",
          "success": true,
          "accurate": true,
          "response_time": 14.802213907241821,
          "expected_keywords": [
            "July 15",
            "July"
          ]
        },
        {
          "question": "How much would I save with the early payment discount?",
          "answer": "I cannot find that specific information about the amount you would save with the early payment discount in the provided context. The document mentions a 2% discount if paid within 10 days but does not specify the exact savings for the given invoice total.",
          "success": true,
          "accurate": true,
          "response_time": 20.497490167617798,
          "expected_keywords": [
            "651",
            "discount"
          ]
        },
        {
          "question": "What is the hourly rate for data processing?",
          "answer": "The hourly rate for data processing in this document is $150.00. This amount is based on 40 hours of data processing work, as indicated in the table under the \"INVOICE DETAILS\" section.",
          "success": true,
          "accurate": true,
          "response_time": 20.550359964370728,
          "expected_keywords": [
            "150",
            "per hour",
            "hourly"
          ]
        }
      ],
      "errors": [],
      "metrics": {
        "total_questions": 10,
        "successful_answers": 10,
        "accurate_answers": 10,
        "total_time": 205.76938462257385,
        "average_time": 20.576938462257385,
        "success_rate": 100.0,
        "accuracy_rate": 100.0
      }
    }
  },
  "summary": {
    "total_models": 4,
    "models_with_errors": 1,
    "models_with_422": 0,
    "best_accuracy_model": "deepseek-coder",
    "fastest_model": "llama3",
    "model_rankings": [
      {
        "model": "deepseek-coder",
        "success_rate": 100.0,
        "accuracy_rate": 100.0,
        "average_time": 18.09328966140747,
        "has_422": false,
        "error_count": 0
      },
      {
        "model": "mistral",
        "success_rate": 100.0,
        "accuracy_rate": 100.0,
        "average_time": 20.576938462257385,
        "has_422": false,
        "error_count": 0
      },
      {
        "model": "llama3",
        "success_rate": 100.0,
        "accuracy_rate": 90.0,
        "average_time": 11.04682285785675,
        "has_422": false,
        "error_count": 0
      },
      {
        "model": "deepseek-llm",
        "success_rate": 90.0,
        "accuracy_rate": 90.0,
        "average_time": 24.037790086534287,
        "has_422": false,
        "error_count": 1
      }
    ]
  },
  "document_id": "5150e9280fb3c35f"
}